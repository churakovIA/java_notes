# Произвольный доступ к файлам

Класс [java.io.RandomAccessFile][1] позволяет вводить и выводить данные в любом месте файла. В частности, файл можно открыть в режиме произвольного доступа как для чтения и записи, так и только для чтения:

```java
RandomAccessFile file = new RandomAccessFile(path.toString(), "rw");
RandomAccessFile file = new RandomAccessFile(path.toFile(), "r");
```

>**r** - только чтение\
>**rw** - чтение и запись\
>**rws** - файл открывается для выполнения операций чтения и записи, и каждое изменение данных или метаданных в файле немедленно выводится на физическое устройство\
>**rwd** - режим чтения и записи с синхронным записыванием на диск только данных


## Методы обработки файла
Метод | Описание
--- | ---
long length() | Возвращает длину файла
void setLength(long newLength) | Устанавливает новую длину файла. Если файл был больше – он обрезается, если меньше – расширяется и новое место заполняется нулями
void close() | Закрывает файл

## Методы позиционирования указателя
Метод | Описание
--- | ---
void seek(long pos) | Перемещает «курсор», используемый для чтения/записи, в указанное место
int skipBytes(int n) | Пропускает n байт. Т.е. перемещает курсор на n байт вперед.
long getFilePointer() | Возвращает номер байта, на который указывает «курсор». Может быть от 0 до «длины файла»

## Методы чтения байт
Метод | Описание
--- | ---
int read() | Читает один байт и возвращает его
int read(byte b[], int off, int len) | Читает массив байт
int read(byte b[]) | Читает массив байт
void readFully(byte b[]) | Читает массив байт, ждет, пока добавятся новые байты, если их не хватает для заполнения массива

## Методы записи байт
Метод | Описание
--- | ---
void write(int b) | Пишет один байт в то место, где стоит курсор
void write(byte b[]) | Пишет массив байт в то место, где стоит курсор
void write(byte b[], int off, int len) | Пишет массив байт в то место, где стоит курсор

## Методы чтения значений определенных типов
Метод | Описание
--- | ---
boolean readBoolean() | Читает boolean с текущей позиции курсора в файле
byte readByte() | Читает byte с текущей позиции курсора в файле
char readChar() | Читает char с текущей позиции курсора в файле
int readInt() | Читает int с текущей позиции курсора в файле
long readLong() | Читает long с текущей позиции курсора в файле
float readFloat() | Читает float с текущей позиции курсора в файле
double readDouble() | Читает double с текущей позиции курсора в файле
String readLine() | Читает строку из файла и возвращает ее

## Методы записи значений определенных типов
Метод | Описание
--- | ---
void writeBoolean(boolean v) | Пишет boolean в файл (начиная с позиции курсора)
void writeByte(int v) t | Пишет byte в файл (начиная с позиции курсора)
void writeChar(int v) | Пишет char в файл (начиная с позиции курсора)
void writeInt(int v) | Пишет int в файл (начиная с позиции курсора)
void writeLong(long v) | Пишет long в файл (начиная с позиции курсора)
void writeFloat(float v) | Пишет float в файл (начиная с позиции курсора)
void writeDouble(double v) | Пишет double в файл (начиная с позиции курсора)
void writeBytes(String s) | Пишет строку в файл (начиная с позиции курсора)
void writeChars(String s) | Пишет строку в файл (начиная с позиции курсора)

[1]: https://docs.oracle.com/javase/8/docs/api/java/io/RandomAccessFile.html

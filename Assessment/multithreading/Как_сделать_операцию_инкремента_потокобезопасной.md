# Как сделать операцию инкремента потокобезопасной?
---

Классы в пакете `java.util.concurrent.atomic` типа `AtomicInteger` и `AtomicLong` позволяют выполнять атомарные операции над переменными без использования синхронизации на более глобальном уровне.

## В чём различия между `volatile` и *Atomic* переменными?

`volatile` принуждает использовать единственный экземпляр переменной, но не гарантирует атомарность. Например, операция `count++` не станет атомарной просто потому, что `count` объявлена `volatile`. C другой стороны `class AtomicInteger` предоставляет атомарный метод для выполнения таких комплексных операций атомарно, например `getAndIncrement()` – атомарная замена оператора инкремента, его можно использовать, чтобы атомарно увеличить текущее значение на один. Похожим образом сконструированы атомарные версии и для других типов данных.

`java.util.concurrent.atomic.LongAccumulator` - [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/LongAccumulator.html)